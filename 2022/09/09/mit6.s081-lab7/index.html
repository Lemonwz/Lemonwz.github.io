<!DOCTYPE html>
<!--[if lte IE 8 ]>
<html class="ie" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->
<!--
***************  *      *     *
      8          *    *       *
      8          *  *         *
      8          **           *
      8          *  *         *
      8          *    *       *
      8          *      *     *
      8          *        *   ***********    -----Theme By Kieran(http://go.kieran.top)
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN" lang="zh-CN">
<!--<![endif]-->

<head>
  <title>mit6.s081 lab7 - networking | Comethru</title>
  <!-- Meta data -->
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="Comethru">
    <meta name="author" content="DaiWei Jia">
    <meta name="description" content="" />
    <meta name="keywords" content="" />

    <!-- Favicon, (keep icon in root folder) -->
    <link rel="Shortcut Icon" href="/img/favicon.ico" type="image/ico">

    <link rel="alternate" href="/atom.xml" title="Comethru" type="application/atom+xml">
    <link rel="stylesheet" href="/css/all.css" media="screen" type="text/css">
    
    <link rel="stylesheet" href="/highlightjs/vs.css" type="text/css">
    

    <!--[if IE 8]>
    <link rel="stylesheet" type="text/css" href="/css/ie8.css" />
    <![endif]-->

    <!-- jQuery | Load our jQuery, with an alternative source fallback to a local version if request is unavailable -->
    <script src="/js/jquery-1.11.1.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/jquery-1.11.1.min.js"><\/script>')</script>

    <!-- Load these in the <head> for quicker IE8+ load times -->
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="/js/html5shiv.min.js"></script>
    <script src="/js/respond.min.js"></script>
    <![endif]-->

  
  
  

  <style>.col-md-8.col-md-offset-2.opening-statement img{display:none;}</style>
</head>

<!--
<body class="post-template">
-->
<body id="index" class="lightnav animsition">

      <!-- ============================ Off-canvas navigation =========================== -->

    <div class="sb-slidebar sb-right sb-style-overlay sb-momentum-scrolling">
        <div class="sb-close" aria-label="Close Menu" aria-hidden="true">
            <img src="/img/close.png" alt="Close"/>
        </div>
        <!-- Lists in Slidebars -->
        <ul class="sb-menu">
            <li><a href="/" class="animsition-link" title="Home">Home</a></li>
            <li><a href="/archives" class="animsition-link" title="archive">archives</a></li>
            <!-- Dropdown Menu -->
			 
            <li>
                <a class="sb-toggle-submenu">Works<span class="sb-caret"></span></a>
                <ul class="sb-submenu">
                    
                        <li><a href="/" target="_BLANK" class="animsition-link">AAA</a></li>
                    
                        <li><a href="/atom.xml" target="_BLANK" class="animsition-link">BBB</a></li>
                    
                </ul>
            </li>
            
            
            
            <li>
                <a class="sb-toggle-submenu">Links<span class="sb-caret"></span></a>
                <ul class="sb-submenu">
                    
                    <li><a target="_blank" rel="noopener" href="http://go.kieran.top/" class="animsition-link">Kieran</a></li>
                    
                    <li><a target="_blank" rel="noopener" href="http://domain.com/" class="animsition-link">Name</a></li>
                    
                </ul>
            </li>
            
        </ul>
        <!-- Lists in Slidebars -->
        <ul class="sb-menu secondary">
            
            <li><a href="/about.html" class="animsition-link" title="about">About</a></li>
            <li><a href="/atom.xml" class="animsition-link" title="rss">RSS</a></li>
        </ul>
    </div>
    
    <!-- ============================ END Off-canvas navigation =========================== -->

    <!-- ============================ #sb-site Main Page Wrapper =========================== -->

    <div id="sb-site">
        <!-- #sb-site - All page content should be contained within this id, except the off-canvas navigation itself -->

        <!-- ============================ Header & Logo bar =========================== -->

        <div id="navigation" class="navbar navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <!-- Nav logo -->
                    <div class="logo">
                        <a href="/" title="Logo" class="animsition-link">
                         <img src="/img/logo.png" alt="Logo" width="35px;"/> 
                        </a>
                    </div>
                    <!-- // Nav logo -->
                    <!-- Info-bar -->
                    <nav>
                        <ul class="nav">
                            <li><a href="/" class="animsition-link">Comethru</a></li>
                            <li class="nolink"><span>Always </span>Creative.</li>
                            
                            <li><a href="https://github.com/" title="Github" target="_blank"><i class="icon-github"></i></a></li>
                            
                            
                            <li><a href="https://twitter.com/" title="Twitter" target="_blank"><i class="icon-twitter"></i></a></li>
                            
                            
                            <li><a href="https://www.facebook.com/" title="Facebook" target="_blank"><i class="icon-facebook"></i></a></li>
                            
                            
                            <li><a href="https://google.com/" title="Google-Plus" target="_blank"><i class="icon-google-plus"></i></a></li>
                            
                            
                            <li><a href="http://weibo.com/" title="Sina-Weibo" target="_blank"><i class="icon-sina-weibo"></i></a></li>
                            
                            <li class="nolink"><span>Welcome!</span></li>
                        </ul>
                    </nav>
                    <!--// Info-bar -->
                </div>
                <!-- // .container -->
                <div class="learnmore sb-toggle-right">More</div>
                <button type="button" class="navbar-toggle menu-icon sb-toggle-right" title="More">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar before"></span>
                <span class="icon-bar main"></span>
                <span class="icon-bar after"></span>
                </button>
            </div>
            <!-- // .navbar-inner -->
        </div>

        <!-- ============================ Header & Logo bar =========================== -->


      
<section id="intro">
    <div class="container">
        <div class="row col-md-offset-2">
            <div class="col-md-8">
    			<span class="post-meta">
      <time datetime="2022-09-09T07:51:27.921Z" itemprop="datePublished">
          2022-09-09
      </time>
    
</span>
                <h1>mit6.s081 lab7 - networking</h1>
            </div>
        </div>
        <div class="col-md-8 col-md-offset-2">
      		<h1 id="lab-networking"><a href="#lab-networking" class="headerlink" title="lab networking"></a>lab networking</h1><p>这部分实验内容主要是实现网卡（E1000）驱动程序，完成数据包的发送和接收</p>
<p>E1000手册：<a target="_blank" rel="noopener" href="https://pdos.csail.mit.edu/6.S081/2021/readings/8254x_GBe_SDM.pdf">8254x Family of Gigabit Ethernet Controllers Software Developer’s Manual (mit.edu)</a></p>
<p>一些相近的主机之间通过局域网相连，局域网能够容纳的主机数量是有限的，因此大型网络通常由多个独立的局域网组成，局域网之间通过路由器连接，路由器将来自一个局域网主机的packet通过数据链路转发（路由）到另一个局域网的目标主机</p>
<p>同一个局域网中的两个主机通过以太网协议通信。使用以太网地址来唯一识别局域网内的主机</p>
<p>不同局域网中的两个主机通过IP协议通信，路由器会识别IP地址的高位bit来决定将packet转发给互联网上的哪一个路由器，而IP地址的低位bit用于在局域网内查找特定的主机，通过ARP协议将IP地址解析为以太网地址（通常是在局域网中广播一个ARP packet，packet中指定了IP地址，拥有该IP地址的主机收到后便会回复一个ARP response packet）</p>
<p>通过IP协议能够将一个packet传输到任意一个主机，但每个主机都运行了大量的应用程序，因此需要通过TCP或UDP协议来区分一个packet应该传输到主机上的哪一个应用程序；实验中实现了UDP，提供“尽力而为”的服务，而TCP能够保证安全有序的数据传输</p>
<p>在应用层和传输层之间有一个socket接口，进程通过socket API发送或接收packet，socket维护了一个队列用于存储接收或发送的packet；当一个packet从网络中到达时，网卡驱动会依次解析packet中嵌套的header（ETH -&gt; IP -&gt; UDP），得到最终数据放入socket的队列中；同理发送一个packet时也会逐层（UDP -&gt; IP -&gt; ETH）添加header最后通过网卡发送</p>
<p>在收到packet时，网卡会将这个packet放入内部的缓冲队列，随后主机会将缓冲队列中的packet拷贝到内存的一个队列里等待驱动处理；但在E1000中，网卡内部并没有太多的缓存，因此网卡会直接将packet拷贝到内存队列中，在实验中这个内存队列叫做DMA ring（DMA表示Direct Memory Access），DMA ring是一个mbuf指针数组（mbuf用于存放packet数据及相关信息）并且它的结构是一个环，网卡内部会记录下一个packet应该放在DMA ring中的哪个位置。同理发送packet时，网卡驱动会将处理好的packet存放在DMA ring中等待网卡传输</p>
<h2 id="Your-Job"><a href="#Your-Job" class="headerlink" title="Your Job"></a>Your Job</h2><p>实现<code>e1000_transmit</code>和<code>e1000_recv</code>函数，分别表示驱动程序接收和发送缓冲队列TX ring和RX ring中的packet；实验的主要难度在于理解发送和接收packet背后的工作原理以及模板代码定义的一些变量的含义，之后根据实验指导编写代码即可</p>
<p><strong>一些实验中可能会用到的数据结构：</strong></p>
<p>接收/发送描述符：包含接收/发送数据缓冲区地址和用于硬件存储packet信息的字段；发送描述符中addr和length字段由软件（也就是驱动程序）设置，其余部分在发送时由硬件设置；接收描述符addr字段由软件设置，其余部分在packet接收时由网卡硬件设置</p>
<p>发送描述符的CMD字段有两个标志位EOP和RS，EOP表示待发送的packet是完整的（一个packet可能由几个描述符组成），RS表示需要网卡硬件设置描述符的状态信息（即status字段）</p>
<p>发送描述符的status字段由网卡硬件给出（前提是设置了RS位），表示当前描述符缓冲区中的数据已经发送完成</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> E1000_TXD_CMD_EOP    0x01 <span class="comment">/* End of Packet */</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> E1000_TXD_CMD_RS     0x08 <span class="comment">/* Report Status */</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> E1000_TXD_STAT_DD    0x00000001 <span class="comment">/* Descriptor Done */</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">tx_desc</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">  uint64 addr;</span><br><span class="line">  uint16 length;</span><br><span class="line">  uint8 cso;</span><br><span class="line">  uint8 cmd;</span><br><span class="line">  uint8 status;</span><br><span class="line">  uint8 css;</span><br><span class="line">  uint16 special;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>接收描述符的status字段有两个标志位DD和EOP（由网卡硬件设置），DD表示描述符指向的数据缓冲区中有新的packet等待接收，EOP表示当前缓冲区中的packet是一个完整的packet</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> E1000_RXD_STAT_DD       0x01    <span class="comment">/* Descriptor Done */</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> E1000_RXD_STAT_EOP      0x02    <span class="comment">/* End of Packet */</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">rx_desc</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">  uint64 addr;       <span class="comment">/* Address of the descriptor&#x27;s data buffer */</span></span><br><span class="line">  uint16 length;     <span class="comment">/* Length of data DMAed into data buffer */</span></span><br><span class="line">  uint16 csum;       <span class="comment">/* Packet checksum */</span></span><br><span class="line">  uint8 status;      <span class="comment">/* Descriptor status */</span></span><br><span class="line">  uint8 errors;      <span class="comment">/* Descriptor Errors */</span></span><br><span class="line">  uint16 special;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>描述符数组tx_ring和rx_ring以及对应的mbuf数组（数据缓冲区），描述符数组和缓冲区数组一一对应</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> TX_RING_SIZE 16</span></span><br><span class="line"><span class="keyword">static</span> <span class="class"><span class="keyword">struct</span> <span class="title">tx_desc</span> <span class="title">tx_ring</span>[<span class="title">TX_RING_SIZE</span>] __<span class="title">attribute__</span>((<span class="title">aligned</span>(16)));</span></span><br><span class="line"><span class="keyword">static</span> <span class="class"><span class="keyword">struct</span> <span class="title">mbuf</span> *<span class="title">tx_mbufs</span>[<span class="title">TX_RING_SIZE</span>];</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> RX_RING_SIZE 16</span></span><br><span class="line"><span class="keyword">static</span> <span class="class"><span class="keyword">struct</span> <span class="title">rx_desc</span> <span class="title">rx_ring</span>[<span class="title">RX_RING_SIZE</span>] __<span class="title">attribute__</span>((<span class="title">aligned</span>(16)));</span></span><br><span class="line"><span class="keyword">static</span> <span class="class"><span class="keyword">struct</span> <span class="title">mbuf</span> *<span class="title">rx_mbufs</span>[<span class="title">RX_RING_SIZE</span>];</span></span><br></pre></td></tr></table></figure>

<p>数据缓冲区mbuf，packet以mbuf的形式在网络协议栈中传输</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">mbuf</span> &#123;</span></span><br><span class="line">  <span class="class"><span class="keyword">struct</span> <span class="title">mbuf</span>  *<span class="title">next</span>;</span> <span class="comment">// the next mbuf in the chain</span></span><br><span class="line">  <span class="keyword">char</span>         *head; <span class="comment">// the current start position of the buffer</span></span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">int</span> len;   <span class="comment">// the length of the buffer</span></span><br><span class="line">  <span class="keyword">char</span>         buf[MBUF_SIZE]; <span class="comment">// the backing store</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><strong>发送packet：</strong></p>
<p>xv6中发送packet的调用流程如下：</p>
<p>sys_write() -&gt; filewrite() -&gt; sockwrite() -&gt; net_tx_udp() -&gt; net_tx_ip() -&gt; net_tx_eth() -&gt; e1000_transmit()</p>
<p>e1000_transmit()的实现参照实验指导即可：</p>
<ol>
<li>获取锁，读取寄存器E1000_TDT的值，获取下一个可用描述符的索引并从tx_ring中取出这个描述符</li>
<li>检查tx_ring是否溢出（当前描述符是否可用），如果描述符的status字段未设置DD为，表示上次传输请求还没有完成，释放锁并返回-1</li>
<li>通过索引获取描述符对应的mbuf，如果不为空则调用mbuffree函数释放该mbuf（上一次传输完成的mbuf）</li>
<li>设置tx_mbufs对应位置为当前mbuf</li>
<li>重置描述符并填充addr和length字段（重置是因为上一次传输时网卡硬件可能设置了其它字段）</li>
<li>设置CMD字段表明待发送的packet是完整的并要求网卡硬件设置status字段</li>
<li>最后更新E1000_TDT寄存器的值指向下一个可用描述符，释放锁并返回</li>
</ol>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 默认发送的是一个完整的packet</span></span><br><span class="line"><span class="function"><span class="keyword">int</span></span></span><br><span class="line"><span class="function"><span class="title">e1000_transmit</span><span class="params">(struct mbuf *m)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  acquire(&amp;e1000_lock_trans);</span><br><span class="line">  uint32 idx = regs[E1000_TDT];</span><br><span class="line">  <span class="class"><span class="keyword">struct</span> <span class="title">tx_desc</span> *<span class="title">desc</span> =</span> &amp;tx_ring[idx];</span><br><span class="line">  <span class="class"><span class="keyword">struct</span> <span class="title">mbuf</span> *<span class="title">prembuf</span> =</span> tx_mbufs[idx];</span><br><span class="line">  <span class="keyword">if</span>(desc-&gt;status != E1000_TXD_STAT_DD)&#123;</span><br><span class="line">    release(&amp;e1000_lock_trans);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span>(prembuf)&#123;</span><br><span class="line">    mbuffree(prembuf);</span><br><span class="line">  &#125;</span><br><span class="line">  tx_mbufs[idx] = m;</span><br><span class="line">  <span class="built_in">memset</span>(desc, <span class="number">0</span>, <span class="keyword">sizeof</span>(desc));</span><br><span class="line">  desc-&gt;addr = (uint64)m-&gt;head;</span><br><span class="line">  desc-&gt;length = m-&gt;len;</span><br><span class="line">  desc-&gt;cmd = E1000_TXD_CMD_RS | E1000_TXD_CMD_EOP;</span><br><span class="line">  regs[E1000_TDT] = (idx+<span class="number">1</span>) % TX_RING_SIZE;</span><br><span class="line">  release(&amp;e1000_lock_trans);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>接收packet：</strong></p>
<p>网卡收到packet时，它会产生一个中断，系统内核中断处理程序会被触发，从网卡中获取packet，在xv6中的调用流程如下：</p>
<p>kerneltrap() -&gt; devintr() -&gt; e1000_intr() -&gt; e1000_recv() -&gt; net_rx() -&gt; net_rx_ip() -&gt; net_rx_udp() -&gt; sockrecvudp()</p>
<p>e1000_recv()的实现参照实验指导即可：</p>
<ol>
<li>获取锁，接收和发送不能用一个锁，否则无法并发进行；最外层是一个while(1)循环，因为缓冲队列中可能不止一个packet需要发送</li>
<li>读取寄存器E1000_RDT的值，获取下一个待发送packet的描述符索引并从rx_ring中取出对应的描述符</li>
<li>检查描述符的status字段是否设置了DD位，如果为0则表示没有新的packet等待接收，释放锁返回-1</li>
<li>从rx_mbufs中取出对应的mbuf，更新其长度为网卡硬件在描述符中设置的长度，调用net_rx函数</li>
<li>调用mbufalloc函数分配一个新的mbuf在rx_mbufs数组中替代刚才的mbuf</li>
<li>更新描述符的status字段为新分配的mbuf，清空status字段</li>
<li>最后更新寄存器E1000_RDT的值</li>
</ol>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 默认接收的是一个完整的packet</span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span></span></span><br><span class="line"><span class="function"><span class="title">e1000_recv</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  acquire(&amp;e1000_lock_recv);</span><br><span class="line">  <span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">    uint32 idx = (regs[E1000_RDT]+<span class="number">1</span>) % RX_RING_SIZE;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">rx_desc</span> *<span class="title">desc</span> =</span> &amp;rx_ring[idx];</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">mbuf</span> *<span class="title">m</span> =</span> rx_mbufs[idx];</span><br><span class="line">    <span class="keyword">if</span>(!(desc-&gt;status &amp; E1000_RXD_STAT_DD))&#123;</span><br><span class="line">      release(&amp;e1000_lock_recv);</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    m-&gt;len = desc-&gt;length;</span><br><span class="line">    net_rx(m);</span><br><span class="line">    rx_mbufs[idx] = mbufalloc(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">if</span>(!rx_mbufs[idx])&#123;</span><br><span class="line">      panic(<span class="string">&quot;e1000_recv&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    desc-&gt;addr = (uint64)rx_mbufs[idx]-&gt;head;</span><br><span class="line">    desc-&gt;status = <span class="number">0</span>;</span><br><span class="line">    regs[E1000_RDT] = idx;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>完成lab7</p>
<p><img src="/2022/09/09/mit6.s081-lab7/result.png" alt="result">    </p>

            <div class="clearfix"></div>
            <hr class="nogutter">
        </div>
        <nav class="m-pagination col-md-8 col-md-offset-2 col-sm-24" role="pagination">
    
    <a class="pull-left" href="/2022/09/09/mit6.s081-lab3/" style="float: left;">
        ← mit6.s081 lab3 - pgtbl
    </a>
    
    
    <a class="pull-right" href="/2022/09/09/mit6.s081-lab8/">
        mit6.s081 lab8 - lock →
    </a>
    
</nav>

        <div class="col-md-8 col-md-offset-2 col-sm-24"><script type="text/javascript">
  /**
   * 搜狐畅言
   */

  /*
  document.write('<div id="SOHUCS" sid="' + window.location.pathname.slice(1) + '" ></div>');

  window.onload = function () {
    (function () {
      var appid = 'cytXXXX';
      var conf = 'prod_xxxxxxxxxxxxxxxxx';
      var width = window.innerWidth || document.documentElement.clientWidth;
      var loadJs = function (d, a, id) {
        var c = document.getElementsByTagName("head")[0] || document.head || document.documentElement;
        var b = document.createElement("script");
        b.setAttribute("type", "text/javascript");
        b.setAttribute("charset", "UTF-8");
        b.setAttribute("src", d);
        if (id) {
          b.setAttribute("id", id);
        }
        if (typeof a === "function") {
          if (window.attachEvent) {
            b.onreadystatechange = function () {
              var e = b.readyState;
              if (e === "loaded" || e === "complete") {
                b.onreadystatechange = null;
                a()
              }
            }
          } else {
            b.onload = a
          }
        }
        c.appendChild(b)
      };

      loadJs("https://changyan.sohu.com/upload/changyan.js", function () {
        window.changyan.api.config({
          appid: appid,
          conf: conf
        })
      });
    })();
  }
  */

</script>
</div>
    </div>
</section>


      
<!-- ============================ Footer =========================== -->

<footer>
    <div class="container">
            <div class="copy">
                <p>
                    &copy; 2014<script>new Date().getFullYear()>2010&&document.write("-"+new Date().getFullYear());</script>, Content By DaiWei Jia. All Rights Reserved.
                </p>
                <p>Theme By <a target="_blank" rel="noopener" href="//go.kieran.top" style="color: #767D84">Kieran</a></p>
            </div>
            <div class="social">
                <ul>
                    
                    <li><a href="https://github.com/" title="Github" target="_blank"><i class="icon-github"></i></a>&nbsp;</li>
                    
                    
                    <li><a href="https://twitter.com/" title="Twitter" target="_blank"><i class="icon-twitter"></i></a>&nbsp;</li>
                    
                    
                    <li><a href="https://www.facebook.com/" title="Facebook" target="_blank"><i class="icon-facebook"></i></a>&nbsp;</li>
                    
                    
                    <li><a href="https://google.com/" title="Google-Plus" target="_blank"><i class="icon-google-plus"></i></a>&nbsp;</li>
                    
                    
                    <li><a href="http://weibo.com/" title="Sina-Weibo" target="_blank"><i class="icon-sina-weibo"></i></a>&nbsp;</li>
                    
                </ul>
            </div>
            <div class="clearfix"> </div>
        </div>
</footer>

<!-- ============================ END Footer =========================== -->
      <!-- Load our scripts -->
<!-- Resizable 'on-demand' full-height hero -->
<script type="text/javascript">
    var resizeHero = function () {
        var hero = $(".cover,.heightblock"),
            window1 = $(window);
        hero.css({
            "height": window1.height()
        });
    };

    resizeHero();

    $(window).resize(function () {
        resizeHero();
    });
</script>
<script src="/js/plugins.min.js"></script><!-- Bootstrap core and concatenated plugins always load here -->
<script src="/js/scripts.js"></script><!-- Theme scripts -->


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$('#intro').find('img').each(function(){
  var alt = this.alt;

  if (alt){
    $(this).after('<span class="caption" style="display:none">' + alt + '</span>');
  }

  $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox" rel="gallery" />');
});
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



      
</body>
</html>
